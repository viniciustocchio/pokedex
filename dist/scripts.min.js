let pokemonRepository=function(){let f=[];function a(a){"object"==typeof a&&"name"in a?f.push(a):console.log("pokemon is not correct")}function b(){return f}let c=document.body,d=document.createElement("div");function g(){d.innerText="Loading...",console.log("Loading...")}function h(){d.remove(),console.log("Loading complete")}function e(a){pokemonRepository.loadDetails(a).then(function(){i(a)})}function i(a){let b=$(".modal-body"),c=$(".modal-title");$(".modal-header"),c.empty(),b.empty();let e=$("<h1>"+a.name+"</h1>"),f=$("<p>Height: "+a.height+"</p>"),g=$("<p>Types: "+a.types.join(", ")+"</p>"),h=$("<p>Weight: "+a.weight+"</p>"),d=$('<img class="pokemon-modal">');d.attr("src",a.imageUrl),b.append(d),c.append(e),b.append(f),b.append(g),b.append(h)}return c.append(d),{add:a,getAll:b,addListItem:function(d){var c;let f=document.querySelector("ul"),b=document.createElement("li");b.classList.add("group-list-item");let a=document.createElement("button");a.innerText=(c=d.name).charAt(0).toUpperCase()+c.slice(1),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target",".modal"),$(a).addClass("button-class btn-block btn m1"),b.appendChild(a),f.appendChild(b),a.addEventListener("click",function(a){e(d)})},loadList:function(){return g(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(b){h(),b.results.forEach(function(b){let c={name:b.name,detailsUrl:b.url};a(c),console.log(c)})}).catch(function(a){h(),console.error(a)})},loadDetails:function(a){return g(),fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){h(),a.imageUrl=b.sprites.front_default,a.height=b.height,a.weight=b.weight;let c=[];b.types.forEach(a=>c.push(a.type.name)),a.types=c}).catch(function(a){h(),console.error(a)})},showDetails:e}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})